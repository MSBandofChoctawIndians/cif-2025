---
import Layout from "../../layouts/main.astro";
import { Button } from "../../components/ui/button";
import { Card, CardContent, CardFooter } from "../../components/ui/card";
import {
  Download,
  FileText,
  Globe,
  Facebook,
  Calendar,
  ArrowRight,
} from "lucide-react";

const competitions = [
  {
    id: 1,
    title: "Rez Run 2025",
    description:
      "The run is held in Choctaw, MS and trails through the reservation of the Mississippi Choctaw and the Choctaw Indian fairgrounds. The Mississippi Band of Choctaw Indians proudly welcomes all runners and visitors to the Choctaw Indian Fair.",
    date: "July 12, 2025",
    logo: "/competitions/rezrun/rezrun2025.webp",
    links: {
      form: "/competitions/rezrun/rezrun2025.pdf",
      webForm: "https://example.com/summer-dance-registration",
      social: "https://facebook.com/events/summer-dance-2025",
    },
  },
  {
    id: 2,
    title: "Iron Warrior",
    description:
      "Iron Warrior consists of obstacles such as the steel log, yoke carry, tire flip, and truck pull. In the end of the competition, the winner will have to endure eight total obstacles in order to be called the next IRON WARRIOR!",
    date: "TBA",
    logo: "/competitions/ironwarrior/ironwarrior.webp",
    links: {
      flyer: "/competitions/music-festival-flyer.pdf",
      form: "/competitions/music-festival-form.pdf",
      webForm: "https://example.com/music-festival-registration",
      social: "https://facebook.com/events/music-festival-2025",
    },
  },
  {
    id: 3,
    title: "Youth Art Exhibition",
    description:
      "Annual art competition for young artists under 18 with prizes in multiple categories.",
    date: "August 10, 2025",
    logo: "https://placehold.co/280x280",
    links: {
      flyer: "/competitions/youth-art-flyer.pdf",
      form: "/competitions/youth-art-form.pdf",
      webForm: "https://example.com/youth-art-registration",
      social: "https://facebook.com/events/youth-art-2025",
    },
  },
  {
    id: 4,
    title: "Science Fair Innovation",
    description:
      "Showcase your scientific innovations and research projects in this national competition.",
    date: "September 5, 2025",
    logo: "https://placehold.co/280x280",
    links: {
      flyer: "/competitions/science-fair-flyer.pdf",
      form: "/competitions/science-fair-form.pdf",
      webForm: "https://example.com/science-fair-registration",
      social: "https://facebook.com/events/science-fair-2025",
    },
  },
];
---

<Layout title="Culture">
  <div
    class="flex min-h-screen flex-col bg-gradient-to-r from-neutral-200 via-white to-neutral-400"
  >
    {/* Hero Section */}
    <section
      class="relative flex h-[40vh] min-h-[300px] w-full items-center justify-center"
    >
      <div class="absolute inset-0 z-0">
        <img
          src="https://placehold.co/1200x600"
          alt="Competitions background"
          class="absolute inset-0 h-full w-full object-cover brightness-50"
        />
      </div>
      <div class="container relative z-10 mx-auto px-4 text-center text-white">
        <h1 class="mb-4 text-4xl font-bold md:text-5xl">Competitions</h1>
        <p class="mx-auto mb-6 max-w-2xl text-xl">
          Discover and participate in our exciting range of competitions and
          events
        </p>
        <Button className="bg-white text-black hover:bg-gray-100">
          View All Categories <ArrowRight className="ml-2 h-4 w-4" />
        </Button>
      </div>
    </section>

    {/* Competitions List */}
    <section class="container mx-auto px-4 py-12">
      <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
        {
          competitions.map((competition) => (
            <Card
              key={competition.id}
              className="h-full flex flex-col overflow-hidden"
            >
              {/* Logo as full header */}
              <div class="relative w-full bg-gray-100">
                <img
                  src={competition.logo || "https://placehold.co/280x280"}
                  alt={`${competition.title} logo`}
                  class="mx-auto max-h-72 object-contain p-4"
                />
              </div>

              <CardContent className="pt-6">
                <div class="mb-3 flex items-start justify-between">
                  <h3 class="text-xl font-semibold">{competition.title}</h3>
                </div>

                <div class="text-muted-foreground mb-4 flex items-center text-sm">
                  <Calendar className="h-4 w-4 mr-2" />
                  {competition.date}
                </div>

                <p class="text-muted-foreground">{competition.description}</p>
              </CardContent>

              <CardFooter className="flex flex-col items-start space-y-3 pt-4 border-t mt-auto">
                <div class="flex w-full flex-wrap gap-2">
                  {competition.links.flyer && (
                    <a href={competition.links.flyer} target="_blank">
                      <Button variant="outline">
                        <Download />
                        Flyer
                      </Button>
                    </a>
                  )}
                  {competition.links.form && (
                    <a href={competition.links.form} target="_blank">
                      <Button variant="outline">
                        <FileText />
                        Form
                      </Button>
                    </a>
                  )}
                  {competition.links.webForm && (
                    <a
                      href={competition.links.webForm}
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      <Button variant="outline">
                        <Globe />
                        Register
                      </Button>
                    </a>
                  )}
                  {competition.links.social && (
                    <a
                      href={competition.links.social}
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      <Button variant="outline">
                        <Facebook />
                        Social
                      </Button>
                    </a>
                  )}
                </div>
              </CardFooter>
            </Card>
          ))
        }
      </div>
    </section>
  </div>
</Layout>
